{"version":3,"sources":["../../../../src/utils/worker/child/load-config-and-plugins.ts"],"names":["loadConfigAndPlugins","args","siteDirectory","store","dispatch","type","payload","getState","program","directory"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEO,eAAeA,oBAAf,CACL,GAAGC,IADE,EAEU;AACf,QAAM,CAAC;AAAEC,IAAAA;AAAF,GAAD,IAAsBD,IAA5B;;AAEAE,eAAMC,QAAN,CAAe;AACbC,IAAAA,IAAI,EAAG,aADM;AAEbC,IAAAA,OAAO,EAAE,EACP,GAAGH,aAAMI,QAAN,GAAiBC,OADb;AAEPC,MAAAA,SAAS,EAAEP;AAFJ;AAFI,GAAf;;AAOA,QAAM,gDAA6B,GAAGD,IAAhC,CAAN,CAVe,CAYf;;AACA,QAAM,4BAAe,uBAAf,CAAN;AACD","sourcesContent":["import { loadConfigAndPlugins as internalLoadConfigAndPlugins } from \"../../../bootstrap/load-config-and-plugins\"\nimport { store } from \"../../../redux\"\nimport apiRunnerNode from \"../../api-runner-node\"\n\nexport async function loadConfigAndPlugins(\n  ...args: Parameters<typeof internalLoadConfigAndPlugins>\n): Promise<void> {\n  const [{ siteDirectory }] = args\n\n  store.dispatch({\n    type: `SET_PROGRAM`,\n    payload: {\n      ...store.getState().program,\n      directory: siteDirectory,\n    },\n  })\n  await internalLoadConfigAndPlugins(...args)\n\n  // Cache is already initialized\n  await apiRunnerNode(`unstable_onPluginInit`)\n}\n"],"file":"load-config-and-plugins.js"}